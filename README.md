middleware -> register , login -> switch update use context
